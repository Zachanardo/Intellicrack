# Ultra-Conservative Whitelist Configuration
# CRITICAL: Only patterns with <5% chance of being actual violations
# Each pattern has been analyzed for false positive risk

# File patterns - paths that legitimately contain non-production code
file_patterns:
  - "tests/**"      # <1% risk - legitimate test files
  - "test_*"        # <1% risk - test files by naming convention
  - "*_test.py"     # <1% risk - test files by naming convention
  - "conftest.py"   # <1% risk - pytest configuration file
  - "docs/**"       # <2% risk - documentation directory
  - "*.md"          # <3% risk - markdown documentation files
  - "*.rst"         # <3% risk - reStructuredText documentation

# Directory patterns - directories that legitimately contain non-production code
directory_patterns:
  - "tests"         # <1% risk - test directories
  - "test_files"    # <1% risk - test file directories
  - "fixtures"      # <2% risk - test fixtures directory
  - "docs"          # <2% risk - documentation directory
  - ".pixi"     # <1% risk - pixi environment directory (EXCLUDED)
  - "dev"           # <1% risk - development tools and scripts directory (EXCLUDED)
  - "tools"         # <1% risk - third-party tools and dependencies directory (EXCLUDED)
  - "tools/**"      # <1% risk - all subdirectories in tools (EXCLUDED)
  - "dev/**"        # <1% risk - all subdirectories in dev (EXCLUDED)

# Code patterns - specific code constructs that are legitimate
code_patterns:
  # String representation methods (<5% risk)
  - pattern: "def\\s+__str__\\s*\\([^)]*\\).*return\\s+[\"'].*[\"']"
    context: "__str__ methods"
    reason: "String representation methods legitimately return formatted strings"

  # Object representation methods (<5% risk)
  - pattern: "def\\s+__repr__\\s*\\([^)]*\\).*return\\s+[\"'].*[\"']"
    context: "__repr__ methods"
    reason: "Object representation methods legitimately return object descriptions"

# Comment-based exceptions (<1% risk - explicit developer overrides)
comment_exceptions:
  - "# AUDIT_IGNORE:"     # Developer explicitly marks as safe
  - "# PRODUCTION_READY"  # Developer confirms production readiness
  - "# CONFIG_VALUE"      # Developer marks as legitimate configuration

# Method exceptions (<5% risk - specific method types)
method_exceptions:
  - "__str__"      # String representation methods
  - "__repr__"     # Object representation methods

# REMOVED PATTERNS (Too risky - >5% chance of missing real violations):
#
# REMOVED: "examples" directory (~15% risk)
# - Examples might contain mixture of legitimate and placeholder code
# - Cannot reliably distinguish tutorial code from production code
#
# REMOVED: DEFAULT_* constant pattern (~20% risk)
# - Many DEFAULT_ constants should actually be configurable
# - Pattern too broad to distinguish config from hardcoded values
#
# REMOVED: "Invalid" error message pattern (~25% risk)
# - Error messages might be hardcoded when they should be dynamic
# - Cannot distinguish standard errors from context-specific ones
#
# REMOVED: __init__ method exception (~10% risk)
# - Constructor methods often have hardcoded defaults that should be configurable
# - Cannot distinguish appropriate defaults from inappropriate hardcoding

# WHITELIST MAINTENANCE GUIDELINES:
#
# 1. Only add patterns with <5% false positive risk
# 2. Document risk assessment for each pattern
# 3. Prefer explicit comment-based exceptions over broad patterns
# 4. Test new patterns against known violation corpus
# 5. Review whitelist quarterly to remove stale patterns
